{"version":3,"file":"dist/menrva.min.js","sources":["dist/menrva.standalone.js"],"names":["e","exports","module","define","amd","f","window","global","self","menrva","t","n","r","s","o","u","a","require","i","Error","call","length",1,"_dereq_","egal","b",2,"option","signal","transaction","some","none","Signal","source","combine","./egal.js","./option.js","./signal.js","./transaction.js",3,"util","Option","Some","x","this","value","prototype","None","equals","other","eq","map","elim","orElse","identity","./util.js",4,"initSignal","children","callbacks","rank","calculateRank","CombinedSignal","parents","calculate","Math","max","apply","pluck","undefined","mapped","push","onValue","callback","wrapped","that","index","indexOf","splice","Source","initialValue","set","addAction","type","modify","signals","Array","slice","arguments","forEach","parent",5,"Transaction","actions","commitScheduled","commit","clearTimeout","updates","action","update","len","updated","child","min","childrenlen","j","filter","updatedSignal","rollback","deferCommit","tx","setTimeout",6,"arr","property","res"],"mappings":"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"}