{"version":3,"file":"dist/menrva.min.js","sources":["dist/menrva.standalone.js"],"names":["e","exports","module","define","amd","f","window","global","self","jsc","t","n","r","s","o","u","a","require","i","Error","call","length",1,"_dereq_","egal","b",2,"option","signal","Transaction","some","none","Signal","Source","combine","./egal.js","./option.js","./signal.js","./transaction.js",3,"util","Option","Some","x","this","value","prototype","None","equals","other","eq","map","elim","orElse","identity","./util.js",4,"initSignal","children","callbacks","rank","calculateRank","CombinedSignal","parents","calculate","Math","max","apply","pluck","undefined","mapped","push","onValue","callback","wrapped","that","index","indexOf","splice","initialValue","set","transaction","addAction","type","modify","signals","Array","slice","arguments","forEach","parent",5,"actions","commitScheduled","commit","clearTimeout","updates","action","update","len","updated","child","min","childrenlen","j","filter","updatedSignal","rollback","deferCommit","setTimeout",6,"arr","property","res"],"mappings":"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"}